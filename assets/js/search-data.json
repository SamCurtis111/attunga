{
  
    
        "post0": {
            "title": "Weather Data",
            "content": "Temperature Forecasts . Taken from BoM. Dashed line displays yesterdays forecast. Solid line is the most current BoM forecast . . . Forecast Precipitation . . .",
            "url": "https://samcurtis111.github.io/attunga/jupyter/2021/06/01/Weather-Data.html",
            "relUrl": "/jupyter/2021/06/01/Weather-Data.html",
            "date": " • Jun 1, 2021"
        }
        
    
  
    
        ,"post1": {
            "title": "SRA End of Day Position Report",
            "content": "Report Ran: 01-06-2021 14:00:41 . Section 1 - Current Qtr . 1.1 Attunga Holdings . Location Year Qtr Current Holding VWAP Current SRA Value (p. Unit) Total PnL . 0 NSWQLD | 2021 | Q2 | 54 | 211.17 | 17069.91 | 910371.96 | . 1 NSWVIC | 2021 | Q2 | 30 | 873.81 | 1090.31 | 6494.90 | . 2 SAVIC | 2021 | Q2 | 30 | 4431.36 | 1629.25 | -84063.42 | . 3 VICNSW | 2021 | Q2 | 4 | 8004.00 | 11979.74 | 15902.94 | . 4 VICSA | 2021 | Q2 | 25 | 1763.20 | 2548.28 | 19626.89 | . . . Section 2 - Next Qtr . 2.1 Attunga Holdings . Location Year Qtr Current Holding VWAP . 0 NSWQLD | 2021 | Q3 | 32 | 252.75 | . 1 NSWVIC | 2021 | Q3 | 61 | 979.46 | . 2 SAVIC | 2021 | Q3 | 22 | 5246.73 | . 3 VICNSW | 2021 | Q3 | 10 | 4500.00 | . 4 VICSA | 2021 | Q3 | 20 | 2058.75 | . Tranche Settlement Prices . YEAR QTR TRANCHE NSWQLD QLDNSW SAVIC VICSA NSWVIC VICNSW . 0 2021 | Q3 | 01 | $502.00 | $10,228.20 | $9,568.80 | $2,760.00 | $2,208.00 | $5,918.40 | . 1 2021 | Q3 | 02 | $800.00 | $6,003.00 | $6,315.41 | $2,525.00 | $1,975.00 | $5,602.00 | . 2 2021 | Q3 | 03 | $800.00 | $7,729.00 | $6,315.41 | $2,272.50 | $1,656.00 | $5,681.66 | . 3 2021 | Q3 | 04 | $800.00 | $9,001.00 | $9,967.00 | $1,750.00 | $1,650.00 | $5,681.66 | . 4 2021 | Q3 | 05 | $800.00 | $11,542.00 | $9,967.00 | $1,662.50 | $1,650.00 | $6,200.00 | . 5 2021 | Q3 | 06 | $245.00 | $11,542.00 | $10,005.00 | $1,413.12 | $1,656.00 | $5,420.00 | . 6 2021 | Q3 | 07 | $200.00 | $11,772.84 | $10,205.10 | $1,550.00 | $993.60 | $7,500.00 | . 7 2021 | Q3 | 08 | $312.00 | $10,086.00 | $3,571.78 | $1,695.75 | $1,032.00 | $6,601.00 | . 8 2021 | Q3 | 09 | $252.00 | $12,950.12 | $4,504.00 | $1,600.94 | $1,304.00 | $4,500.00 | . 9 2021 | Q3 | 09 | $523.44 | $10,094.91 | $7,824.39 | $1,914.42 | $1,569.40 | $5,906.70 | . 10 2021 | Q3 | 10 | $254.00 | $12,302.50 | $5,250.00 | $1,601.00 | $1,389.00 | $5,625.00 | . Section 3 - Historical SRA Data . 3.1 Historical Payouts . Note: Need to change both the qtr &amp; product dropdowns to get the chart to update . 3.3 Attunga Holdings . all_holdings = df_holding.copy() all_holdings[&#39;yyyyqq&#39;] = all_holdings[&#39;yyyyqq&#39;].astype(int) all_holdings = all_holdings[all_holdings.yyyyqq &gt;= int(str(datetime.today().year) + &#39;0&#39; + current_qtr[-1])] all_holdings = all_holdings.sort_values(by=[&#39;yyyyqq&#39;,&#39;Location&#39;]).reset_index(drop=True) all_holdings . Location Year Qtr Current Holding VWAP yyyyqq . 0 NSWQLD | 2021 | Q2 | 54 | 211.17 | 202102 | . 1 NSWVIC | 2021 | Q2 | 30 | 873.81 | 202102 | . 2 SAVIC | 2021 | Q2 | 30 | 4431.36 | 202102 | . 3 VICNSW | 2021 | Q2 | 4 | 8004.00 | 202102 | . 4 VICSA | 2021 | Q2 | 25 | 1763.20 | 202102 | . 5 NSWQLD | 2021 | Q3 | 32 | 252.75 | 202103 | . 6 NSWVIC | 2021 | Q3 | 61 | 979.46 | 202103 | . 7 SAVIC | 2021 | Q3 | 22 | 5246.73 | 202103 | . 8 VICNSW | 2021 | Q3 | 10 | 4500.00 | 202103 | . 9 VICSA | 2021 | Q3 | 20 | 2058.75 | 202103 | . 10 NSWQLD | 2021 | Q4 | 74 | 795.49 | 202104 | . 11 NSWVIC | 2021 | Q4 | 102 | 1164.16 | 202104 | . 12 SAVIC | 2021 | Q4 | 40 | 5223.92 | 202104 | . 13 VICSA | 2021 | Q4 | 30 | 1994.84 | 202104 | . 14 NSWVIC | 2022 | Q1 | 10 | 4356.00 | 202201 | . 15 SAVIC | 2022 | Q1 | 40 | 5637.44 | 202201 | . 16 VICSA | 2022 | Q1 | 24 | 6148.76 | 202201 | . 17 NSWQLD | 2022 | Q2 | 30 | 337.03 | 202202 | . 18 NSWVIC | 2022 | Q2 | 30 | 826.29 | 202202 | . 19 SAVIC | 2022 | Q2 | 30 | 4022.22 | 202202 | . 20 NSWVIC | 2022 | Q3 | 70 | 854.48 | 202203 | . 21 SAVIC | 2022 | Q3 | 34 | 4834.21 | 202203 | . 22 VICSA | 2022 | Q3 | 20 | 2024.75 | 202203 | . 23 NSWQLD | 2022 | Q4 | 8 | 1254.00 | 202204 | . 24 NSWVIC | 2022 | Q4 | 60 | 772.71 | 202204 | . 25 SAVIC | 2022 | Q4 | 40 | 4988.63 | 202204 | . 26 VICSA | 2022 | Q4 | 10 | 2450.00 | 202204 | . 27 NSWVIC | 2023 | Q1 | 10 | 4320.00 | 202301 | . 28 SAVIC | 2023 | Q1 | 50 | 5665.24 | 202301 | . 29 VICSA | 2023 | Q1 | 20 | 6816.00 | 202301 | . 30 NSWQLD | 2023 | Q2 | 8 | 404.00 | 202302 | . 31 NSWVIC | 2023 | Q2 | 30 | 514.46 | 202302 | . 32 SAVIC | 2023 | Q2 | 30 | 3416.00 | 202302 | . 33 VICSA | 2023 | Q2 | 12 | 1743.17 | 202302 | . 34 NSWQLD | 2023 | Q3 | 10 | 257.00 | 202303 | . 35 NSWVIC | 2023 | Q3 | 90 | 637.55 | 202303 | . 36 SAVIC | 2023 | Q3 | 45 | 4022.38 | 202303 | . 37 VICSA | 2023 | Q3 | 20 | 1667.94 | 202303 | . 38 NSWQLD | 2023 | Q4 | 10 | 1501.00 | 202304 | . 39 NSWVIC | 2023 | Q4 | 60 | 725.17 | 202304 | . 40 SAVIC | 2023 | Q4 | 34 | 4084.00 | 202304 | . 41 VICSA | 2023 | Q4 | 20 | 1840.35 | 202304 | . 42 NSWVIC | 2024 | Q1 | 10 | 4368.00 | 202401 | . 43 SAVIC | 2024 | Q1 | 25 | 5154.00 | 202401 | . 44 VICSA | 2024 | Q1 | 10 | 6115.20 | 202401 | .",
            "url": "https://samcurtis111.github.io/attunga/jupyter/2021/06/01/SRA-Position.html",
            "relUrl": "/jupyter/2021/06/01/SRA-Position.html",
            "date": " • Jun 1, 2021"
        }
        
    
  
    
        ,"post2": {
            "title": "PASA",
            "content": "MTPASA . Total Availability . . . MTPASA Change . STPASA .",
            "url": "https://samcurtis111.github.io/attunga/jupyter/2021/06/01/PASA.html",
            "relUrl": "/jupyter/2021/06/01/PASA.html",
            "date": " • Jun 1, 2021"
        }
        
    
  
    
        ,"post3": {
            "title": "Option Upload Testing",
            "content": "from sqlalchemy import create_engine engine = create_engine(&#39;postgresql://postgres:iforgot23@localhost/BB_Data&#39;) import pandas as pd import numpy as np from scipy.stats import norm from tqdm import tqdm from calendar import monthrange import collections from datetime import datetime from IPython.display import display_html, HTML . product_dict = {&#39;NSW&#39;:&#39;W&#39;, &#39;QLD&#39;:&#39;Z&#39;, &#39;VIC&#39;:&#39;V&#39;,&#39;SA&#39;:&#39;U&#39;, 1:&#39;H&#39;, 2:&#39;M&#39;, 3:&#39;U&#39;, 4:&#39;Z&#39;, &#39;H&#39;:&#39;01&#39;,&#39;M&#39;:&#39;02&#39;,&#39;U&#39;:&#39;03&#39;,&#39;Z&#39;:&#39;04&#39;, 2016:&#39;16&#39;,2017:&#39;17&#39;,2018:&#39;18&#39;,2019:&#39;19&#39;,2020:&#39;20&#39;,2021:&#39;1&#39;,2022:&#39;2&#39;,2023:&#39;3&#39;,2024:&#39;4&#39;,2025:&#39;5&#39;, &#39;5&#39;:&#39;2015&#39;,&#39;6&#39;:&#39;2016&#39;,&#39;7&#39;:&#39;2017&#39;,&#39;8&#39;:&#39;2018&#39;,&#39;9&#39;:&#39;2019&#39;,&#39;0&#39;:&#39;2020&#39;,&#39;1&#39;:&#39;2021&#39;,&#39;2&#39;:&#39;2022&#39;,&#39;3&#39;:&#39;2023&#39;,&#39;4&#39;:&#39;2024&#39;, &#39;Call&#39;: &#39;C&#39;, &#39;Put&#39;:&#39;P&#39;, &#39;Q&#39;: &#39;E&#39;, &#39;Cal&#39;:&#39;H&#39;, &#39;Fin&#39;:&#39;H&#39;} strip_dict = {&#39;QLD&#39;:&#39;3&#39;, &#39;NSW&#39;:&#39;1&#39;, &#39;VIC&#39;:&#39;2&#39;, &#39;SA&#39;:&#39;4&#39;} qtr_months_dict = {&#39;Q1&#39;:[1,2,3], &#39;Q2&#39;:[4,5,6], &#39;Q3&#39;:[7,8,9], &#39;Q4&#39;:[10,11,12]} exp_map = {&#39;Cal&#39;:[&#39;Q1&#39;,&#39;Q2&#39;,&#39;Q3&#39;,&#39;Q4&#39;], &#39;Fin&#39;:[&#39;Q3&#39;,&#39;Q4&#39;,&#39;Q1&#39;,&#39;Q2&#39;]} . query = &#39;SELECT * FROM &quot;Option_Position &quot;&#39; options_df = pd.read_sql(query, engine) options_df = options_df.iloc[:,1:] options_df[&#39;Strike&#39;] = options_df[&#39;Strike&#39;].astype(int) # Partition df into qtr (or fin/cal) and year cols options_df[&#39;Year&#39;] = [int(d[-4:]) for d in options_df.Date] options_df[&#39;Exp Time&#39;] = [d[:-4] for d in options_df.Date] options_df[&#39;Exp Time&#39;] = options_df[&#39;Exp Time&#39;].str.replace(&#39; &#39;,&#39;&#39;) # remove whitespace # Convert each of the products to their BB code codes = [] for i in range(len(options_df)): if options_df[&#39;Exp Time&#39;][i]==&#39;Cal&#39;: prodtype = product_dict[options_df[&#39;Exp Time&#39;][i]] prodregion = strip_dict[options_df[&#39;Region&#39;][i]] prodq = &#39;Z&#39; elif options_df[&#39;Exp Time&#39;][i] == &#39;Fin&#39;: prodtype = product_dict[options_df[&#39;Exp Time&#39;][i]] prodregion = strip_dict[options_df[&#39;Region&#39;][i]] prodq = &#39;M&#39; else: prodtype = &#39;E&#39; prodregion = product_dict[options_df[&#39;Region&#39;][i]] prodq = product_dict[int(options_df.Date[i][1])] prodyear = product_dict[options_df.Year[i]] code = prodtype + prodregion + prodq + prodyear + product_dict[options_df[&#39;Type&#39;][i]] + &#39; &#39; + str(options_df[&#39;Strike&#39;][i]) + &#39; Comdty&#39; codes.append(code) options_df[&#39;BB_Code&#39;] = codes . query = &#39;SELECT * FROM &quot;Swap_Position &quot;&#39; swap_df = pd.read_sql(query, engine) swap_df = swap_df.iloc[:,1:] . def unique_times_func(subset_df): unique_times = zip(subset_df.Year, subset_df[&#39;Exp Time&#39;]) unique_times = list(set(unique_times)) # Convert fin / cal to their respective qtrs for x,y in unique_times: if y == &#39;Cal&#39;: for q in exp_map[y]: unique_times.append((x, q)) if y == &#39;Fin&#39;: for q in exp_map[y][0:2]: unique_times.append(((x-1), q)) for q in exp_map[y][2:]: unique_times.append((x, q)) # Remove fin / cal from list unique_times = [x for x in unique_times if &quot;Fin&quot; not in x] unique_times = [x for x in unique_times if &quot;Cal&quot; not in x] unique_times = list(set(unique_times)) return unique_times . option_dict = {} for state in options_df.Region.unique(): option_dict[state] = {} # Make a subset of df to filter into df sub_df = options_df[options_df.Region == state] state_times = unique_times_func(sub_df) # Make the qtrly frame subsets by state for dates in state_times: option_dict[state][dates] = {} # Initialise the empty cols to fill option_dict[state][dates][&#39;Description&#39;] = [] option_dict[state][dates][&#39;BB_Code&#39;] = [] option_dict[state][dates][&#39;Exp Time&#39;] = [] option_dict[state][dates][&#39;Quarter Hours&#39;] = [] option_dict[state][dates][&#39;Type&#39;] = [] option_dict[state][dates][&#39;Strike&#39;] = [] option_dict[state][dates][&#39;Cost&#39;] = [] option_dict[state][dates][&#39;Current Underlying&#39;] = [] option_dict[state][dates][&#39;Qty&#39;] = [] option_dict[state][dates][&#39;Option Type&#39;] = [] option_dict[state][dates][&#39;Current Price&#39;] = [] option_dict[state][dates][&#39;Current Vol&#39;] = [] option_dict[state][dates][&#39;Current Delta&#39;] = [] . field_list = [&#39;Description&#39;,&#39;BB_Code&#39;,&#39;Exp Time&#39;,&#39;Type&#39;,&#39;Strike&#39;,&#39;Cost&#39;,&#39;Qty&#39;] for i in range(len(options_df)): state = options_df.Region[i] yr = options_df.Year[i] #sub_df = options_df[options_df.Region==state] #unique_times = unique_times_func(sub_df) if options_df[&#39;Exp Time&#39;][i] == &#39;Cal&#39;: datelist = [] for q in exp_map[&#39;Cal&#39;]: datelist.append((yr, q)) for dates in datelist: for field in field_list: option_dict[state][dates][field].append(options_df[field][i]) elif options_df[&#39;Exp Time&#39;][i] == &#39;Fin&#39;: datelist = [] for q in exp_map[&#39;Fin&#39;][0:2]: datelist.append((yr-1, q)) for q in exp_map[&#39;Fin&#39;][2:]: datelist.append((yr, q)) for dates in datelist: for field in field_list: option_dict[state][dates][field].append(options_df[field][i]) else: #dates = (yr, options_df[&#39;Exp Time&#39;][i]) #for field in field_list: # option_dict[state][dates][field].append(options_df[field][i]) datelist = [] datelist.append((int(yr), str(options_df[&#39;Exp Time&#39;][i]))) for dates in datelist: for field in field_list: option_dict[state][dates][field].append(options_df[field][i]) .",
            "url": "https://samcurtis111.github.io/attunga/jupyter/2021/06/01/Option-Upload-Testing.html",
            "relUrl": "/jupyter/2021/06/01/Option-Upload-Testing.html",
            "date": " • Jun 1, 2021"
        }
        
    
  
    
        ,"post4": {
            "title": "Option Deltas",
            "content": "from IPython.display import display, HTML HTML(&#39;&#39;&#39;&lt;script&gt; code_show=true; function code_toggle() { if (code_show){ $(&#39;div.input&#39;).hide(); } else { $(&#39;div.input&#39;).show(); } code_show = !code_show } $( document ).ready(code_toggle); &lt;/script&gt; The raw code for this IPython notebook is by default hidden for easier reading. To toggle on/off the raw code, click &lt;a href=&quot;javascript:code_toggle()&quot;&gt;here&lt;/a&gt;.&#39;&#39;&#39;) . The raw code for this IPython notebook is by default hidden for easier reading. To toggle on/off the raw code, click here. Generate Plots . from ipywidgets import interactive . w = interactive(plot_generator, state=list(option_dict.keys())) w.to_html(&#39;test_in&#39;) display(w) . New try as go . fig=go.FigureWidget() @interact(state=list(option_dict.keys())) def update(state=&#39;QLD&#39;): fig=plot_generator(state)#.show() #fig.write_html(&#39;{}_figure.html&#39;.format(state), auto_open=True) fig.show() . QLD Pos . q=plot_generator(&#39;QLD&#39;) q.write_html(&#39;QLD_options.html&#39;) q.show() . NSW Pos . n=plot_generator(&#39;NSW&#39;) n.write_html(&#39;NSW_options.html&#39;) n.show() . VIC Pos . v=plot_generator(&#39;VIC&#39;) v.write_html(&#39;VIC_options.html&#39;) v.show() . 2+2 . 4 . fig = go.Figure() import dash import dash_core_components as dcc import dash_html_components as html app = dash.Dash() app.layout = html.Div([ dcc.Dropdown( id=&#39;state-dropdown&#39;, options=[ {&#39;label&#39;: &#39;QLD&#39;, &#39;value&#39;: &#39;QLD&#39;}, {&#39;label&#39;: &#39;NSW&#39;, &#39;value&#39;: &#39;NSW&#39;}, {&#39;label&#39;: &#39;VIC&#39;, &#39;value&#39;: &#39;VIC&#39;} ], value=&#39;QLD&#39; ), html.Div([ dcc.Graph(figure=fig, id=&#39;opt_graph&#39;)]) ]) @app.callback( dash.dependencies.Output(&#39;opt_graph&#39;, &#39;figure&#39;), [dash.dependencies.Input(&#39;state-dropdown&#39;, &#39;value&#39;)]) def plot_generator(value): #, option_dict): deltas = new_delta_dict(option_dict) # generate a fresh delta dict for the respective region state_dict = deltas[value].copy() state_dict = collections.OrderedDict(sorted(state_dict.items())) state_dfs = total_dfs(state_dict) # get the count of total dataframes in dict (nested) state_plots = {} for dates in list(state_dict): for option_type in state_dict[dates]: plotname = str(dates[0]) + &#39; &#39; + str(dates[1]) + &#39; &#39; + option_type sub_df = state_dict[dates][option_type] ## Rename the tuples in the columns ## newcols = list(sub_df)[:-2] newcols = [&#39;{}_{}&#39;.format(x[0],x[1]) for x in newcols] keepcols = list(sub_df)[-2:] colnames = newcols + keepcols sub_df.columns = colnames # Generate the plot state_plots[plotname] = px.line(sub_df) # Generate the figures fig = make_subplots(rows = len(state_plots), cols=1, subplot_titles=list(state_plots)) for i, plotname in enumerate(list(state_plots)): for dat in state_plots[plotname].data: fig.add_trace((go.Scatter(x=dat[&#39;x&#39;], y=dat[&#39;y&#39;], name=dat[&#39;name&#39;])), row=i+1, col=1) # Obtain vline from underlying_dict vline_date = (int(plotname[:4]), str(plotname[5:7])) if &#39;American&#39; in plotname: vline_type = &#39;American&#39; elif &#39;European&#39; in plotname: vline_type = &#39;European&#39; else: print(&#39;Option Type Error&#39;) # Obtain underlying and add to figure fig.add_vline(x=underlying_dict[state][vline_date][vline_type], line_width=2, line_dash=&quot;dash&quot;, row=i+1, col=1) fig.layout.template=None fig.update_layout(height=(state_dfs*100), width=800, title=(&quot;{} Option Payoff Diagrams&quot;.format(state))) return fig app.run_server(debug=True, use_reloader=False) . Dash is running on http://127.0.0.1:8050/ Dash is running on http://127.0.0.1:8050/ Dash is running on http://127.0.0.1:8050/ Warning: This is a development server. Do not use app.run_server Warning: This is a development server. Do not use app.run_server Warning: This is a development server. Do not use app.run_server in production, use a production WSGI server like gunicorn instead. in production, use a production WSGI server like gunicorn instead. in production, use a production WSGI server like gunicorn instead. * Serving Flask app &#34;__main__&#34; (lazy loading) * Environment: production WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead. * Debug mode: on .",
            "url": "https://samcurtis111.github.io/attunga/2021/06/01/Option-Positions-(In-Progress).html",
            "relUrl": "/2021/06/01/Option-Positions-(In-Progress).html",
            "date": " • Jun 1, 2021"
        }
        
    
  
    
        ,"post5": {
            "title": "NEM Data",
            "content": "Last ran: 2021-06-02 08:20:14 . NEM Price Data . 180it [00:00, 45143.19it/s] . Averaged Daily Prices . Note that current day and 8 day ahead are partial days, do not use these figures for pricing / modelling Click on individual states in chart to add / remove them for closer inspection . REGIONID NSW1 QLD1 SA1 TAS1 VIC1 RUN_DATETIME INTERVAL_DATE 2021-06-02 1506.37 1503.02 1425.46 51.18 1311.38 2021/06/02 07:30:00 2021-06-03 8390.09 8866.96 3736.22 47.54 3865.95 2021/06/02 07:30:00 2021-06-04 3668.30 5256.16 4112.74 38.60 3389.71 2021/06/02 07:30:00 2021-06-05 875.90 878.42 3406.30 14.69 65.53 2021/06/02 07:30:00 2021-06-06 1821.58 1765.08 -186.45 115.29 -7.02 2021/06/02 07:30:00 2021-06-07 4217.30 4322.81 25.95 -13.28 25.10 2021/06/02 07:30:00 2021-06-08 3903.15 4054.90 4109.94 182.48 3587.54 2021/06/02 07:30:00 2021-06-09 206.05 427.37 139.41 124.00 133.71 2021/06/02 07:30:00 . . .",
            "url": "https://samcurtis111.github.io/attunga/jupyter/2021/06/01/NEM-Data.html",
            "relUrl": "/jupyter/2021/06/01/NEM-Data.html",
            "date": " • Jun 1, 2021"
        }
        
    
  
    
        ,"post6": {
            "title": "Morning Review",
            "content": "Rough Format . NEM Summary . Spot market summary: . Yest spot prices | PD 7 Day spoot prices | Average 7 day price table (incl. caps) | . | Supply / Demand / Reserve . IC flows / constraints | . | Generation . Fuel mix | By DUID - outages / trips | Bid stacks (some of these might not be worth the work) | . | . ASX Summary . Yesterday biggest movers | .",
            "url": "https://samcurtis111.github.io/attunga/2021/06/01/Daily-Summary-(In-Progress).html",
            "relUrl": "/2021/06/01/Daily-Summary-(In-Progress).html",
            "date": " • Jun 1, 2021"
        }
        
    
  
    
        ,"post7": {
            "title": "Annualised Volatilities Report",
            "content": "from pathlib import Path import numpy as np import pandas as pd pd.set_option(&#39;display.max_rows&#39;, None) # prevent dfs from being truncated . data_path = Path(&quot;C:/Users/SamCurtis/AppData/Local/bipy/28095931/projects/02f1bf62483a4d82b93898b71672e018&quot;) / (&quot;tableau_vols.xlsx&quot;) raw_baseload = pd.read_excel(data_path, sheet_name=&#39;Baseload&#39;) raw_caps = pd.read_excel(data_path, sheet_name=&#39;Caps&#39;) raw_strips = pd.read_excel(data_path, sheet_name=&#39;Strips&#39;) last_update_path = Path(&quot;C:/Users/SamCurtis/AppData/Local/bipy/28095931/projects/02f1bf62483a4d82b93898b71672e018&quot;) / (&quot;volatility_data.xlsx&quot;) last_updated = pd.read_excel(last_update_path, sheet_name=&#39;last_updated&#39;) last_updated = last_updated[&#39;updated&#39;][0] . print(&#39;Last Updated: &#39;, last_updated) . Last Updated: 2021-06-01 10:04:07 . Baseload Contracts . baseload_pivot = pd.pivot_table(raw_baseload, index=[&quot;state&quot;, &quot;year&quot;,&quot;quater&quot;]) baseload_pivot = baseload_pivot.iloc[:,1:] baseload_pivot . annual monthly qtrly weekly . state year quater . NSW 2021 2 0.3155 | 0.8223 | 0.5423 | 1.2265 | . 3 0.2027 | 0.2715 | 0.2407 | 0.4898 | . 4 0.2031 | 0.2927 | 0.2386 | 0.5487 | . 2022 1 0.1909 | 0.1389 | 0.2440 | 0.1884 | . 2 0.1695 | 0.1594 | 0.1866 | 0.2837 | . 3 0.1550 | 0.1441 | 0.1555 | 0.1749 | . 4 0.1611 | 0.1341 | 0.1917 | 0.1670 | . 2023 1 0.1682 | 0.1555 | 0.2264 | 0.1877 | . 2 0.1825 | 0.1271 | 0.1727 | 0.2000 | . 3 0.1821 | 0.1223 | 0.1748 | 0.2058 | . 4 0.1628 | 0.1191 | 0.1684 | 0.1975 | . 2024 1 NaN | 0.1187 | 0.1811 | 0.2166 | . 2 NaN | 0.0764 | 0.1421 | 0.0868 | . 3 NaN | 0.0968 | 0.0808 | 0.1025 | . 4 NaN | 0.0858 | 0.0733 | 0.0000 | . 2025 1 NaN | 0.1755 | NaN | 0.0000 | . 2 NaN | 0.0755 | NaN | 0.0000 | . QLD 2021 2 0.3681 | 0.9664 | 0.6291 | 1.8129 | . 3 0.2557 | 0.5604 | 0.3709 | 1.1590 | . 4 0.2048 | 0.2480 | 0.2199 | 0.4558 | . 2022 1 0.1758 | 0.2312 | 0.2247 | 0.4143 | . 2 0.1759 | 0.2597 | 0.2346 | 0.4656 | . 3 0.1616 | 0.1993 | 0.1863 | 0.3821 | . 4 0.1687 | 0.2141 | 0.2098 | 0.3800 | . 2023 1 0.1592 | 0.1560 | 0.2112 | 0.3191 | . 2 0.1689 | 0.1508 | 0.1956 | 0.2981 | . 3 0.1611 | 0.1724 | 0.1910 | 0.3544 | . 4 0.2141 | 0.1625 | 0.2127 | 0.3357 | . 2024 1 NaN | 0.0847 | 0.1517 | 0.0668 | . 2 NaN | 0.1015 | 0.1366 | 0.0718 | . 3 NaN | 0.1507 | 0.1549 | 0.0000 | . 4 NaN | 0.1429 | 0.1643 | 0.0000 | . 2025 1 NaN | 0.7137 | NaN | 0.0000 | . 2 NaN | 0.0967 | NaN | 0.0000 | . SA 2021 2 0.2872 | 0.6521 | 0.4615 | 0.5045 | . 3 0.1788 | 0.2772 | 0.2215 | 0.3468 | . 4 0.1694 | 0.1202 | 0.1699 | 0.0393 | . 2022 1 0.2041 | 0.2044 | 0.2433 | 0.0887 | . 2 0.1694 | 0.1644 | 0.2004 | 0.0409 | . 3 0.1783 | 0.1422 | 0.1708 | 0.0275 | . 4 0.1671 | 0.1365 | 0.1618 | 0.0272 | . 2023 1 0.2025 | 0.2121 | 0.2790 | 0.0560 | . 2 0.2911 | 0.5186 | 0.3824 | 0.0266 | . 3 0.3107 | 0.5059 | 0.3491 | 0.1935 | . 4 0.2330 | 0.0916 | 0.1887 | 0.1929 | . 2024 1 NaN | 0.1724 | 0.2002 | 0.1245 | . 2 NaN | 0.4255 | 0.3612 | 0.3062 | . 3 NaN | 0.0453 | 0.1575 | 0.0000 | . 4 NaN | 0.0452 | 0.2791 | 0.0000 | . 2025 1 NaN | 0.0984 | NaN | 0.0000 | . 2 NaN | 0.0452 | NaN | 0.0000 | . VIC 2021 2 0.3631 | 0.8501 | 0.6200 | 0.9872 | . 3 0.2282 | 0.2496 | 0.2831 | 0.2129 | . 4 0.2315 | 0.1840 | 0.2727 | 0.2042 | . 2022 1 0.2426 | 0.1455 | 0.3040 | 0.1357 | . 2 0.2388 | 0.2061 | 0.3337 | 0.2288 | . 3 0.2256 | 0.2081 | 0.3060 | 0.3542 | . 4 0.2483 | 0.1600 | 0.3729 | 0.1180 | . 2023 1 0.1965 | 0.1177 | 0.2779 | 0.1220 | . 2 0.1694 | 0.1112 | 0.2288 | 0.1365 | . 3 0.1896 | 0.1169 | 0.2474 | 0.1117 | . 4 0.1906 | 0.1317 | 0.2870 | 0.1355 | . 2024 1 NaN | 0.1648 | 0.2599 | 0.0639 | . 2 NaN | 0.1536 | 0.1952 | 0.1203 | . 3 NaN | 0.2899 | 0.2556 | 0.0676 | . 4 NaN | 0.2434 | 0.2265 | 0.0393 | . 2025 1 NaN | 0.4078 | NaN | 0.0000 | . 2 NaN | 0.2371 | NaN | 0.0000 | . Caps . cap_pivot = pd.pivot_table(raw_caps, index=[&quot;state&quot;, &quot;year&quot;,&quot;quater&quot;]) cap_pivot = cap_pivot.iloc[:,1:] cap_pivot . annual monthly qtrly weekly . state year quater . NSW 2021 2 1.2583 | 3.8776 | 2.4319 | 3.5454 | . 3 NaN | 1.0828 | 0.7243 | 1.2480 | . 4 NaN | 0.4717 | NaN | 0.5809 | . 2022 1 NaN | 0.4185 | NaN | 0.4177 | . 2 NaN | 0.4627 | NaN | 0.5662 | . 3 NaN | 0.5733 | NaN | 1.0268 | . 4 NaN | 0.4055 | NaN | 0.7590 | . 2023 1 NaN | 0.3994 | NaN | 0.4492 | . 2 NaN | 0.4088 | NaN | 0.7497 | . 3 NaN | 0.3324 | NaN | 0.3078 | . 4 NaN | 0.0378 | NaN | 0.0000 | . 2024 1 NaN | 0.3593 | NaN | 0.0000 | . 2 NaN | 0.0000 | NaN | 0.0000 | . 3 NaN | 0.0000 | NaN | 0.0000 | . 4 NaN | 0.0000 | NaN | 0.0000 | . 2025 1 NaN | 2.3025 | NaN | 0.0000 | . 2 NaN | 0.0000 | NaN | 0.0000 | . QLD 2021 2 1.2255 | 3.1194 | 2.2775 | 5.1369 | . 3 NaN | 2.0143 | 1.3150 | 3.7419 | . 4 NaN | 0.3847 | NaN | 0.0379 | . 2022 1 NaN | 0.7173 | NaN | 1.3976 | . 2 NaN | 0.5768 | NaN | 1.0663 | . 3 NaN | 1.5369 | NaN | 3.3966 | . 4 NaN | 0.2682 | NaN | 0.4041 | . 2023 1 NaN | 0.5854 | NaN | 0.6499 | . 2 NaN | 0.3743 | NaN | 0.7116 | . 3 NaN | 0.3743 | NaN | 0.7116 | . 4 NaN | 0.3756 | NaN | 0.6520 | . 2024 1 NaN | 0.5796 | NaN | 0.0000 | . 2 NaN | 0.0000 | NaN | 0.0000 | . 3 NaN | 0.0000 | NaN | 0.0000 | . 4 NaN | 0.0000 | NaN | 0.0000 | . 2025 1 NaN | 0.0000 | NaN | 0.0000 | . 2 NaN | 0.0000 | NaN | 0.0000 | . SA 2021 2 1.0612 | 3.4121 | 2.0782 | 4.1239 | . 3 NaN | 0.6955 | 0.6889 | 0.0000 | . 4 NaN | 0.8202 | NaN | 0.0000 | . 2022 1 NaN | 0.4630 | NaN | 0.0000 | . 2 NaN | 0.7722 | NaN | 0.0000 | . 3 NaN | 0.7077 | NaN | 0.0000 | . 4 NaN | 0.5872 | NaN | 0.0544 | . 2023 1 NaN | 0.3033 | NaN | 0.0000 | . 2 NaN | 0.3314 | NaN | 0.4803 | . 3 NaN | 0.3314 | NaN | 0.4803 | . 4 NaN | 0.1118 | NaN | 0.0000 | . 2024 1 NaN | 0.2705 | NaN | 0.0000 | . 2 NaN | 0.2481 | NaN | 0.0000 | . 3 NaN | 0.2481 | NaN | 0.0000 | . 4 NaN | 0.0000 | NaN | 0.0000 | . 2025 1 NaN | 0.3231 | NaN | 0.6800 | . 2 NaN | 0.0000 | NaN | 0.0000 | . VIC 2021 2 1.5381 | 5.0383 | 3.0416 | 3.4333 | . 3 NaN | 1.4673 | 1.0060 | 0.0000 | . 4 NaN | 0.3633 | NaN | 0.3230 | . 2022 1 NaN | 0.3335 | NaN | 0.4012 | . 2 NaN | 0.7940 | NaN | 1.2055 | . 3 NaN | 0.6325 | NaN | 0.5865 | . 4 NaN | 0.2545 | NaN | 0.4220 | . 2023 1 NaN | 0.2669 | NaN | 0.0000 | . 2 NaN | 0.5916 | NaN | 1.0939 | . 3 NaN | 0.3004 | NaN | 0.0000 | . 4 NaN | 0.0000 | NaN | 0.0000 | . 2024 1 NaN | 0.0000 | NaN | 0.0000 | . 2 NaN | 0.0000 | NaN | 0.0000 | . 3 NaN | 0.0000 | NaN | 0.0000 | . 4 NaN | 0.0000 | NaN | 0.0000 | . 2025 1 NaN | 0.0000 | NaN | 0.0000 | . 2 NaN | 0.0000 | NaN | 0.0000 | . Strips . strips_pivot = pd.pivot_table(raw_strips, index=[&quot;state&quot;, &quot;year&quot;,&quot;prod_type&quot;]) strips_pivot = strips_pivot.iloc[:,1:] strips_pivot . annual monthly qtrly quater weekly . state year prod_type . NSW 2022 Cal 0.1462 | 0.1255 | 0.1711 | 4 | 0.1924 | . Fin 0.1698 | 0.2023 | 0.2050 | 2 | 0.3631 | . 2023 Cal 0.1522 | 0.1214 | 0.1710 | 4 | 0.1877 | . Fin 0.1360 | 0.1285 | 0.1690 | 2 | 0.1749 | . 2024 Cal NaN | 0.0698 | 0.0970 | 4 | 0.0903 | . Fin NaN | 0.0829 | 0.1412 | 2 | 0.1063 | . 2025 Fin NaN | 0.0853 | NaN | 2 | 0.0192 | . QLD 2022 Cal 0.1533 | 0.2104 | 0.1987 | 4 | 0.3957 | . Fin 0.1796 | 0.2987 | 0.2382 | 2 | 0.5960 | . 2023 Cal 0.1599 | 0.1547 | 0.1948 | 4 | 0.3085 | . Fin 0.1452 | 0.1373 | 0.1787 | 2 | 0.2530 | . 2024 Cal NaN | 0.1051 | 0.1408 | 4 | 0.0642 | . Fin NaN | 0.0811 | 0.1422 | 2 | 0.1320 | . SA 2022 Cal 0.1462 | 0.1467 | 0.1748 | 4 | 0.0531 | . Fin 0.1393 | 0.1365 | 0.1684 | 2 | 0.0994 | . 2023 Cal 0.2133 | 0.2240 | 0.2338 | 4 | 0.4492 | . Fin 0.1529 | 0.1461 | 0.1926 | 2 | 0.2445 | . 2024 Cal NaN | 0.0938 | 0.2047 | 4 | 0.1664 | . Fin NaN | 0.1962 | 0.2131 | 2 | 0.4018 | . 2025 Fin NaN | 0.0499 | NaN | 2 | 0.0000 | . VIC 2022 Cal 0.2047 | 0.1435 | 0.2795 | 4 | 0.1774 | . Fin 0.2119 | 0.1712 | 0.2728 | 2 | 0.1860 | . 2023 Cal 0.1634 | 0.1017 | 0.2416 | 4 | 0.1173 | . Fin 0.1664 | 0.1136 | 0.2371 | 2 | 0.1449 | . 2024 Cal NaN | 0.1526 | 0.2026 | 4 | 0.0583 | . Fin NaN | 0.1124 | 0.2102 | 2 | 0.0589 | . 2025 Fin NaN | 0.2690 | NaN | 2 | 0.0232 | .",
            "url": "https://samcurtis111.github.io/attunga/jupyter/2021/06/01/Annualised-Volatilities.html",
            "relUrl": "/jupyter/2021/06/01/Annualised-Volatilities.html",
            "date": " • Jun 1, 2021"
        }
        
    
  
    
        ,"post8": {
            "title": "An Example Markdown Post",
            "content": "Example Markdown Post . Basic setup . Jekyll requires blog post files to be named according to the following format: . YEAR-MONTH-DAY-filename.md . Where YEAR is a four-digit number, MONTH and DAY are both two-digit numbers, and filename is whatever file name you choose, to remind yourself what this post is about. .md is the file extension for markdown files. . The first line of the file should start with a single hash character, then a space, then your title. This is how you create a “level 1 heading” in markdown. Then you can create level 2, 3, etc headings as you wish but repeating the hash character, such as you see in the line ## File names above. . Basic formatting . You can use italics, bold, code font text, and create links. Here’s a footnote 1. Here’s a horizontal rule: . . Lists . Here’s a list: . item 1 | item 2 | . And a numbered list: . item 1 | item 2 | Boxes and stuff . This is a quotation . . You can include alert boxes …and… . . You can include info boxes Images . . Code . You can format text and code per usual . General preformatted text: . # Do a thing do_thing() . Python code and output: . # Prints &#39;2&#39; print(1+1) . 2 . Formatting text as shell commands: . echo &quot;hello world&quot; ./some_script.sh --option &quot;value&quot; wget https://example.com/cat_photo1.png . Formatting text as YAML: . key: value - another_key: &quot;another value&quot; . Tables . Column 1 Column 2 . A thing | Another thing | . Tweetcards . Altair 4.0 is released! https://t.co/PCyrIOTcvvTry it with: pip install -U altairThe full list of changes is at https://t.co/roXmzcsT58 ...read on for some highlights. pic.twitter.com/vWJ0ZveKbZ . &mdash; Jake VanderPlas (@jakevdp) December 11, 2019 Footnotes . This is the footnote. &#8617; . |",
            "url": "https://samcurtis111.github.io/attunga/markdown/2020/01/14/test-markdown-post.html",
            "relUrl": "/markdown/2020/01/14/test-markdown-post.html",
            "date": " • Jan 14, 2020"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Me",
          "content": "This website is powered by fastpages 1. . a blogging platform that natively supports Jupyter notebooks in addition to other formats. &#8617; . |",
          "url": "https://samcurtis111.github.io/attunga/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  
  

  

  
  

  

  
  

  
  

  
  

  
      ,"page9": {
          "title": "",
          "content": "Sitemap: {{ “sitemap.xml” | absolute_url }} | .",
          "url": "https://samcurtis111.github.io/attunga/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}